<!DOCTYPE html>
<html>
   <head> 
      <meta charset = "utf-8">
      <title>homework2</title>
            <style type = "text/css">
         body  { font-family: sans-serif;
                 background-color: lightyellow; }
         table { background-color: lightblue;
                 border-collapse: collapse;
                 border: 1px solid gray; }
         td    { padding: 5px; }
         tr:nth-child(odd) { background-color: white; }
         .AutoNewline {word-break: break-all;}
      </style>
      <script type="text/javascript" src="JSmol.min.js"></script>
      <script type="text/javascript" src="//code.jquery.com/jquery-2.1.4.min.js"></script>	
      <script type="text/javascript">
	function progress(){ 
	    var inp = $("#INP").val();
	    $.ajax({
		    url: "http://140.138.77.70/~s1081447/cgi-bin/hw2.cgi",
		    data: {
		      inp: inp
	      },
		    type: "POST",
		    datatype: "html",
	      success: function( output ) {
		        $( "#out" ).html(output);
	      },
		    error : function(){
		      alert( "Request failed." );
		}
	    });
	}

	function handler(pdb) {
	  var jmolApplet0; // set up in HTML table, below
    var use = "HTML5" // JAVA HTML5 WEBGL IMAGE  are all otions
    var s = document.location.search;
    Jmol._debugCode = (s.indexOf("debugcode") >= 0);
    var script = 'h2oOn=true;set animframecallback "jmolscript:if (!selectionHalos) {select model=_modelNumber}";'
    	+'set errorCallback "myCallback";'
    	+'set defaultloadscript "isDssp = false;set defaultVDW babel;if(!h2oOn){display !water}";'
    	+'set zoomlarge false;set echo top left;echo loading XXXX...;refresh;'
    	+'load "http://www.rcsb.org/pdb/files/XXXX.pdb";set echo top center;echo XXXX;'
    	+'spacefill off;wireframe off;cartoons on;color structure;';
    script = script.replace(/XXXX/g, pdb);
    var Info = {
    	width: 450,
    	height: 450,
    	debug: false,
    	color: "white",
    	addSelectionOptions: false,
    	serverURL: "http://chemapps.stolaf.edu/jmol/jsmol/php/jsmol.php",
    	use: "HTML5",
    	j2sPath: "j2s",
    	readyFunction: null,
    	script: script,
    	disableInitialConsole: true
    }
    $("#mydiv").html(Jmol.getAppletHtml("jmolApplet0",Info))
    }
     </script> 

   </head>
   <body>
      <form method = "post" action = "#">
         <p>Please input Uniprot ID or AC:
               <input name = "INP" type = "text" size = "25" id = "INP" value="P18485">
          </p>
         <p><input id = "submit" type="button" value = "Send Query" onclick="progress()"></p>
      </form>
      <div id="out"></div>
      <span id="mydiv"></span>
   </body>
</html>